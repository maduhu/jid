package com.sos.scheduler.history;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import com.sos.hibernate.classes.DbItem;
import com.sos.hibernate.classes.SOSHibernateFilter;
import com.sos.scheduler.history.db.SchedulerOrderStepHistoryDBItem;

/**
* \class SchedulerOrderStepHistoryFilter 
* 
* \brief SchedulerOrderStepHistoryFilter - 
* 
* \details
*
* \section SchedulerOrderStepHistoryFilter.java_intro_sec Introduction
*
* \section SchedulerOrderStepHistoryFilter.java_samples Some Samples
*
* \code
*   .... code goes here ...
* \endcode
*
* <p style="text-align:center">
* <br />---------------------------------------------------------------------------
* <br /> APL/Software GmbH - Berlin
* <br />##### generated by ClaviusXPress (http://www.sos-berlin.com) #########
* <br />---------------------------------------------------------------------------
* </p>
* \author Uwe Risse
* \version 14.12.2011
* \see reference
*
* Created on 14.12.2011 13:53:37
 */

public class SchedulerOrderStepHistoryFilter extends SOSHibernateFilter implements com.sos.hibernate.interfaces.ISOSHibernateFilter {

	@SuppressWarnings("unused")
	private final String	conClassName	= "SchedulerHistoryFilter";
	private String			dateFormat		= "yyyy-MM-dd HH:mm:ss";
	private Date			executedFrom;
	private Date			executedTo;
	private Date			startTime;
	private Date			endTime;
	private String			status			= "";

	private String			executedFromIso	= null;
	private String			executedToIso	= null;


 
	public String getExecutedFromIso() {
		return executedFromIso;
	}

	public void setExecutedFromIso(String executedFromIso) {
		this.executedFromIso = executedFromIso;
	}

	public String getExecutedToIso() {
		return executedToIso;
	}

	public void setExecutedToIso(String executedToIso) {
		this.executedToIso = executedToIso;
	}


	public SchedulerOrderStepHistoryFilter() {
		//
	}

	public String getDateFormat() {
		return dateFormat;
	}

	public void setDateFormat(String dateFormat) {
		this.dateFormat = dateFormat;
	}

	public Date getExecutedFrom() {
		return executedFrom;
	}

	public void setExecutedFrom(String executedFrom) throws ParseException {
		if (executedFrom.equals("")) {
			this.executedFrom = null;
		}
		else {
			SimpleDateFormat formatter = new SimpleDateFormat(dateFormat);
			Date d = formatter.parse(executedFrom);
			setExecutedFrom(d);
		}
	}

	public Date getExecutedTo() {
		return executedTo;
	}

	public void setExecutedTo(String executedTo) throws ParseException {
		if (executedTo.equals("")) {
			this.executedTo = null;
		}
		else {
			SimpleDateFormat formatter = new SimpleDateFormat(dateFormat);
			Date d = formatter.parse(executedTo);
			setExecutedTo(d);
		}
	}

	public boolean isFiltered(DbItem dbitem) {
		SchedulerOrderStepHistoryDBItem h = (SchedulerOrderStepHistoryDBItem) dbitem;
		return false;
	}

	public String getStatus() {
		return status;
	}

	public void setStatus(String status) {
		this.status = status;
	}

	 
	public void setExecutedFrom(Date from) {
		this.executedFrom = from;
		SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd HH:mm");
		executedFromIso = formatter.format(from);
	}

	public void setExecutedTo(Date to) {
		this.executedTo = to;
		SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd HH:mm");
		executedToIso = formatter.format(to);
	}

	public void setStartTime(Date start) {
		this.startTime = start;
 	}	
	
	public void setEndTime(Date end) {
		this.endTime = end;
 	}
	
 

	public Date getStartTime() {
		return startTime;
	}

	public Date getEndTime() {
		return endTime;
	}
	
	@Override
	public String getTitle() {
		
		String s = "";
	 
		if (executedFrom != null) {
			   s += String.format("from: %s " ,date2Iso(executedFrom));
		}

		if (executedTo != null) {
			   s += String.format("to: %s " ,date2Iso(executedTo));
		}
		return s;
	}
	
	

}
